spring:
  application:
    name: kage
  webflux:
    multipart:
      max-in-memory-size: 20MB
  r2dbc:
    url: ${DB_URL:r2dbc:postgresql://localhost:5432/kage}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:}
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      timeout: 15000
      database: ${REDIS_DATABASE:0}

project:
  version: @project.version@

server:
  port: ${SERVER_PORT:8080}

# Spring AI 配置 (DeepSeek 使用 OpenAI 兼容接口)
spring.ai:
  openai:
    base-url: https://api.deepseek.com
    api-key: ${DEEPSEEK_API_KEY:}
    chat:
      options:
        model: deepseek-chat
  mcp:
    client:
      enabled: false  # 禁用自动配置，使用自定义配置

jina:
  api-key: ${JINA_API_KEY:}

discord:
  bot:
    token: ${DISCORD_BOT_TOKEN:}
    activity: ${DISCORD_ACTIVITY:Kage Bot is running!}


# 日志配置 (调试时可开启)
#logging:
#  level:
#    org.springframework.ai: DEBUG
#    io.modelcontextprotocol: DEBUG
#    org.springframework.r2dbc.core: DEBUG
#    org.springframework.r2dbc.core.DefaultDatabaseClient: TRACE
#    org.springframework.data.r2dbc: DEBUG
#    io.r2dbc.postgresql.QUERY: DEBUG
#    io.r2dbc.postgresql.PARAM: DEBUG